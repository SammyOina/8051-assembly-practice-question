;====================================================================
; Main.asm file generated by New Project wizard
;
; Created:   Fri Aug 6 2021
; Processor: 80C31
; Compiler:  ASEM-51 (Proteus)
;====================================================================

$NOMOD51
$INCLUDE (8051.MCU)

;====================================================================
; DEFINITIONS
;====================================================================

;====================================================================
; VARIABLES
;====================================================================
LED1 		BIT		P1.0
LED2		BIT		P1.1
LED3		BIT		P1.2
;====================================================================
; RESET and INTERRUPT VECTORS
;====================================================================

      ; Reset Vector
      org   0000h
      jmp   Start
      
      
      ; Button Interupt vector
      org 0013H
      CLR LED1
      CLR LED2
      CLR LED3
      MOV R1, #255
 RE: DJNZ R3,RE
       SETB LED1
       SETB LED2
       SETB LED3
       RETI

;====================================================================
; CODE SEGMENT
;====================================================================

      org   0100h
Start:	
      ; Write your code here
      SETB LED1
      SETB LED2
      SETB LED3
      MOV IE, #10000100B
Loop:	
      jmp Loop

;====================================================================
      END
